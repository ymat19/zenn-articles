---
title: "temp"
emoji: "💨"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: []
published: false
---

# Windows環境でPowerShellとtmuxを連携するツールの紹介

Windows環境でtmuxを使いたいけど、直接使うのは難しいと感じたことはありませんか？今回紹介するツールは、**Windows Subsystem for Linux（WSL）** 上でtmuxを動かし、WindowsのPowerShellでの操作を可能にするセットアップスクリプトです。このスクリプトにより、tmuxのキーバインドを活用したペイン操作が可能になります。

## はじめに

本記事で紹介するツールは、[こちらのSuperUserの書き込み](https://superuser.com/a/1643117) に基づいています。この方法を基にして、今日の環境で動作するように修正し、さらに作業を自動化したものです。

## 概要：ツールが何をしているのか

このツールは、次のステップで動作します。

1. **WSL上にAlpine Linuxインスタンスを立ち上げ**、その中でtmuxを起動。
2. **tmux内でWindows側のPowerShellを起動**し、ペイン分割や操作ができるように設定。

この仕組みにより、WSLのLinux環境を介して、tmuxでPowerShellを扱うことが可能になります。

## 目的：なぜtmuxを使いたいのか？

Windows環境でも**tmuxのキーバインドでペイン操作を行いたい**というニーズがありました。Windows Terminalや他の仮想ターミナルにも画面分割機能はありますが、多くの場合、**tmuxのプリフィックスキーバインドをサポートしていません**。

さらに、私は普段Macでもtmuxを使っており、MacとWindowsで**同じtmuxの設定ファイルを共通化**したいという理由もあり、このアプローチを採用しました。

> **注意**: このツールは、ペイン操作に特化しており、tmuxのセッション管理や他の高度なマルチプレクサ機能にはあまり対応していません。

## 制限事項：できないこと

- **セッションの維持ができない**  
  ローカル環境で動作しているため、PCを再起動したり、ターミナルを閉じたりするとセッションは終了します。また、既存のPowerShellセッションにアタッチすると、PowerShellが入力を受け付けなくなるという問題が発生することがあります（おま環かもしれません）。
  
- **セッションのアタッチはコメントアウト中**  
  前回のセッションに自動的にアタッチする処理自体は実装していますが、現時点ではコメントアウトしています。環境によってはうまく動作するかもしれませんので、試してみてください。

## 使い方

### インストール方法

以下のコマンドを実行して、ツールをインストールします。

```bash
some command
```

### 起動方法

インストールが完了すると、以下のコマンドで起動できます。

```bash
wsl -d PoshOnTmux
```

設定ファイルは次の場所にあります。

```
some path
```

### アンインストール方法

以下のコマンドでアンインストールできます。

```bash
some command
```

## 終わりに

Windows環境でtmuxのキーバインドを使いたい方には、このツールが有効なソリューションとなるでしょう。あくまでペイン操作に特化したものですが、これによりWindowsとMacのターミナル操作を共通化できるメリットがあります。興味がある方はぜひ試してみてください。
